# Отладка CSV Импорта

## Проблема
Ошибка "Սխալ՝ չհաջողվեց ներմուծել տվյալները" (Ошибка: не удалось импортировать данные)

## Шаги для отладки

### 1. Проверьте консоль браузера
- Откройте Developer Tools (F12)
- Перейдите на вкладку Console
- Попробуйте импортировать CSV файл
- Посмотрите на логи в консоли

### 2. Проверьте логи сервера
- Запустите приложение с отладкой
- Попробуйте импортировать CSV файл
- Посмотрите на логи в терминале

### 3. Проверьте CSV файл
- Убедитесь, что файл имеет правильный формат
- Проверьте кодировку (должна быть UTF-8)
- Убедитесь, что есть заголовок и данные

### 4. Проверьте event_id
- Убедитесь, что в URL есть параметр `event_id`
- Например: `http://localhost:5000/view_invitation?event_id=1`

### 5. Тестовый CSV файл
Используйте этот тестовый файл:
```csv
Сторона,Имя гостя,Имя Гостя в приглашении
София,Мама,Анаит Ервандовна
София,Папа,Ерванд Арамаисович
```

### 6. Запуск тестового скрипта
```bash
python test_csv_import.py
```

## Возможные причины ошибок

1. **Неправильный event_id** - проверьте URL
2. **Неправильный формат CSV** - проверьте структуру файла
3. **Проблемы с кодировкой** - используйте UTF-8
4. **Ошибки в базе данных** - проверьте подключение к БД
5. **Проблемы с правами доступа** - проверьте аутентификацию

## Логи для проверки

### В консоли браузера должны быть:
- Event ID: [число]
- Sending CSV data to server...
- CSV content length: [число]
- CSV content preview: [текст]

### В логах сервера должны быть:
- === CSV Import Debug ===
- Received data keys: ['event_id', 'csv_data', 'language']
- Event ID: [число]
- CSV data length: [число]
- Total lines in CSV: [число]
- Header parts: ['Сторона', 'Имя гостя', 'Имя Гостя в приглашении']
- Processing line [номер]: [текст]
- Parsed parts: [массив]
- Created invitation: name=[имя], nickname=[никнейм], is_male=[true/false]
- Successfully imported invitation [номер]
- Import completed. Imported: [число], Errors: [число]
